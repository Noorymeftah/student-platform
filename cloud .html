<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ù…ØªØ­Ø±Ùƒ</title>

<style>
:root {
  --main: #4CAF50;
  --danger: #e74c3c;
}

body {
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #74ebd5, #ACB6E5);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  direction: rtl;
  overflow: hidden;
}

.container {
  background: white;
  padding: 25px;
  width: 330px;
  border-radius: 12px;
  box-shadow: 0 15px 30px rgba(0,0,0,0.2);
  text-align: center;
  animation: scaleIn 0.6s ease;
}

h2 {
  color: #333;
  margin-bottom: 10px;
}

input {
  width: 100%;
  padding: 12px;
  margin: 10px 0;
  border: 1px solid #ddd;
  border-radius: 8px;
  transition: 0.3s;
}

input:focus {
  border-color: var(--main);
  outline: none;
  box-shadow: 0 0 5px rgba(76,175,80,0.5);
}

button {
  width: 100%;
  padding: 12px;
  background: var(--main);
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.3s;
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.link {
  margin-top: 12px;
  color: #3498db;
  cursor: pointer;
  transition: 0.3s;
}

.link:hover {
  text-decoration: underline;
}

.msg {
  margin-top: 10px;
  font-weight: bold;
}

/* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø§Øª */
.box {
  display: none;
}

/* Ø£Ù†Ù…ÙŠØ´Ù† */
.fadeIn {
  animation: fadeIn 0.5s ease forwards;
}

.shake {
  animation: shake 0.4s;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes scaleIn {
  from { transform: scale(0.8); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

@keyframes shake {
  0% { transform: translateX(0); }
  25% { transform: translateX(-5px); }
  50% { transform: translateX(5px); }
  75% { transform: translateX(-5px); }
  100% { transform: translateX(0); }
}
</style>
</head>

<body>

<!-- Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ -->
<div class="container box" id="registerBox">
  <h2>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h2>
  <input id="regUser" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
  <input id="regPass" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
  <button onclick="register()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨</button>
  <div class="link" onclick="showLogin()">Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</div>
  <div class="msg" id="msgReg"></div>
</div>

<!-- ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ -->
<div class="container box" id="loginBox">
  <h2>ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</h2>
  <input id="logUser" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…">
  <input id="logPass" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
  <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
  <div class="link" onclick="showRegister()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</div>
  <div class="msg" id="msgLogin"></div>
</div>

<!-- ØªØ±Ø­ÙŠØ¨ -->
<div class="container box" id="welcomeBox">
  <h2>ğŸ‰ Ù…Ø±Ø­Ø¨Ù‹Ø§</h2>
  <p id="welcomeUser"></p>
  <button onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>
</div>

<script>
window.onload = function () {
  let user = localStorage.getItem("loggedUser");
  if (user) {
    showWelcome(user);
  } else {
    showRegister();
  }
};

function register() {
  let u = regUser.value.trim();
  let p = regPass.value.trim();

  if (!u || !p) {
    error("msgReg", "Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„", "registerBox");
    return;
  }

  if (localStorage.getItem(u)) {
    error("msgReg", "Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯", "registerBox");
    return;
  }

  localStorage.setItem(u, p);
  success("msgReg", "ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ âœ”");

  setTimeout(showLogin, 900);
}

function login() {
  let u = logUser.value.trim();
  let p = logPass.value.trim();

  if (localStorage.getItem(u) === p) {
    localStorage.setItem("loggedUser", u);
    showWelcome(u);
  } else {
    error("msgLogin", "Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©", "loginBox");
  }
}

function logout() {
  localStorage.removeItem("loggedUser");
  showLogin();
}

function showRegister() {
  showBox(registerBox);
}

function showLogin() {
  showBox(loginBox);
}

function showWelcome(user) {
  showBox(welcomeBox);
  welcomeUser.innerText = "Ø£Ù‡Ù„Ù‹Ø§ Ø¨Ùƒ " + user;
}

function showBox(box) {
  document.querySelectorAll(".box").forEach(b => b.style.display = "none");
  box.style.display = "block";
  box.classList.remove("fadeIn");
  void box.offsetWidth;
  box.classList.add("fadeIn");
}

function error(id, text, boxId) {
  let m = document.getElementById(id);
  m.innerText = text;
  m.style.color = "var(--danger)";
  let box = document.getElementById(boxId);
  box.classList.add("shake");
  setTimeout(() => box.classList.remove("shake"), 400);
}

function success(id, text) {
  let m = document.getElementById(id);
  m.innerText = text;
  m.style.color = "green";
}
</script>

</body>
</html>